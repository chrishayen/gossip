TODO

- [x] keep list of peers and their state
- propagation w TTL
- user-provided handlers
- online/offline state