TODO

- keep list of peers and their state
- propagation